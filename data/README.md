# Data Directory Documentation

## Overview
This directory contains all research data for the SURP2025-9DTact project, including raw sensor data, processed images, calibration data, and analysis results. The data supports the enhanced contact analysis and shape reconstruction capabilities demonstrated in the poster figures.

## ⚠️ Data Transparency Note
**Important**: This directory includes processed data for complete transparency, but not all files were generated by the author. Some data may be from original 9DTact processing or intermediate results. The author's custom contributions are clearly documented in the code generation mapping below.

## Directory Structure

```
data/
├── raw/ # Original recordings
│ └── Videos/ # e.g., BluePill_1.mp4, Screw_1.mp4
├── processed/ # Calibrated / derived artifacts
│ ├── calibration/
│ │ ├── 3DModel/
│ │ ├── 3DModel_2/
│ │ ├── comprehensive_analysis/
│ │ ├── ContactDetection/
│ │ ├── ForceContactImages/
│ │ ├── frames/
│ │ ├── images/
│ │ ├── sensor_1/
│ │ ├── sensor_2/
│ │ ├── sensor_3/
│ │ └── WIN_20250703_15_55_38_Pro.mp4
└── analysis_results/
├── analysis_summary.csv
├── contact_accuracy_summary.csv
├── force_depth_dataset.csv
├── comprehensive_analysis.png
├── contact_accuracy_comparison_SAM2.png
├── opencv_depth_map.png
├── sam2_depth_map.png
├── opencv_isolated_contact.png
├── sam2_isolated_contact.png
└── README.md
```

## Contents

### `raw/`
- Original 9DTact videos (MP4, typically 30–120s).

### `processed/calibration/`
- `sensor_{1,2,3}/`: camera & depth calibration artifacts.
- `3DModel/`, `3DModel_2/`: depth maps, point clouds, video exports.
- `ContactDetection/`: masks, boundaries, morphology outputs.
- `ForceContactImages/`: images labeled by applied force.
- `frames/`: extracted frames grouped by object (e.g., `Screw_1/`).
- `images/`: rectified/processed calibration images.
- `comprehensive_analysis/`: cross-method comparisons.

### `analysis_results/`
- CSVs with metrics/datasets and figures comparing methods (OpenCV vs SAM2, depth maps, contact isolation).

## Code Generation Mapping

### Author's Custom Code Contributions
The following data was generated by the author's custom code in `code/my_contributions/`:

#### Shape Reconstruction (`code/my_contributions/shape_reconstruction/`)
- **`New_Contact_Region_Detection.py`** → `processed/calibration/images/`
  - Contact masks, overlays, isolated contacts
  - Files: `{prefix}_rect_crop.png`, `{prefix}_contact_mask.png`, `{prefix}_overlay.png`, `{prefix}_contact_isolated.png`

- **`New_Shape_Reconstruction.py`** → `processed/calibration/3DModel_2/`
  - Depth maps, point clouds, reconstruction videos
  - Files: `{frame:05d}_depth.png`, `{frame:05d}_pcd.png`, `depth_reconstruction.avi`

- **`New_Shape_Reconstruction.py`** → `processed/calibration/ContactDetection/`
  - Contact detection results and masks
  - Files: `{frame:05d}_contact.png`

- **`comprehensive_analysis.py`** → `processed/calibration/comprehensive_analysis/`
  - SAM2 vs OpenCV comparison results
  - Files: `{method}_isolated_contact.png`, `{method}_depth_map.png`, analysis summaries

- **`New_Camera_Calibration.py`** → `processed/calibration/sensor_*/`
  - Camera and depth calibration data
  - Files: `row_index.npy`, `col_index.npy`, `position_scale.npy`, `Pixel_to_Depth_iterative.npy`

#### Force Estimation (`code/my_contributions/force_estimation/`)
- **`make_force_poster_figure.py`** → `code/my_contributions/force_estimation/poster_figures/`
  - Force analysis panels for poster
  - Files: `{force}N_WIN_*_Pro_poster.png`

- **`force_deformation_time_plot.py`** → `code/my_contributions/force_estimation/poster_figures/`
  - Temporal force-deformation analysis
  - Files: `force_deformation_over_time.png`

- **`generate_force_depth_dataset.py`** → `data/analysis_results/`
  - Force-depth relationship dataset
  - Files: `force_depth_dataset.csv`

#### Analysis and Comparison
- **`contact_accuracy_analysis.py`** → `data/analysis_results/`
  - Contact detection accuracy comparisons
  - Files: `contact_accuracy_comparison_SAM2.png`, `contact_accuracy_summary.csv`

### Original 9DTact Code
- **`code/original_9dtact/`**: Contains original model definitions, ROS integration, and design files
- **Note**: Most processed data appears to be generated by the author's custom code rather than original 9DTact processing

## Processing Pipeline
1. Capture raw videos → `raw/Videos/`
2. Extract frames → `processed/calibration/frames/`
3. Camera rectification & distortion correction
4. Contact detection (OpenCV, SAM2) → masks/overlays
5. Depth/shape reconstruction → depth maps, point clouds
6. Metrics & summaries → `analysis_results/`

## Usage
- Poster figures reference datasets in `processed/` and metrics in `analysis_results/`.
- Calibration examples live under `processed/calibration/sensor_*`.
- Raw reproductions start from `raw/Videos/`.

## File Naming
- Videos: `{ObjectType}_{Number}.mp4`
- Frames: `{FrameNumber:05d}.jpg`
- Depth: `{FrameNumber:05d}_depth.png`
- Point clouds: `{FrameNumber:05d}_pcd.png`
- Analysis figs: `{analysis_type}_{method}.png`
- Tables: `*.csv`

## Specs
- Video: MP4 (H.264), RGB, 30–60 FPS
- Images: PNG (lossless), ≥1920×1080
- Tables: CSV

## Citation
- Project data/figures: “Author’s own work, SURP2025-9DTact”.
- 9DTact sources: Lin et al., IEEE RA-L (2023).
- SAM-2 usage: attribute Meta AI (see method docs).

## Integrity & Provenance
- Processed artifacts trace to raw files (paths in captions/CSVs).
- Sensor-specific calibration kept separated (`sensor_*`).
- Analysis includes reproducible inputs/outputs with versioned scripts.

## Future Improvements
**Note**: This code-to-data mapping will be refined in future iterations to provide more detailed traceability between specific code functions and generated data files. The current mapping provides a high-level overview of the data generation pipeline.
